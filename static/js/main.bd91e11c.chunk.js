(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],[,,,,function(e,t,a){e.exports=a.p+"static/media/logo.8f7611ae.svg"},function(e,t,a){e.exports=a.p+"static/media/edit_large_icon.d476a8b8.svg"},,,function(e,t,a){e.exports=a(14)},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),o=a.n(c),l=(a(13),a(1)),i=a(4),s=a.n(i);var u=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:s.a,alt:"Logo",className:"header__logo"}))},p=a(5),m=a.n(p),d=a(6),_=a(7),h=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(d.a)(this,e),this.baseUrl=a,this.headers=n}return Object(_.a)(e,[{key:"getInitialCards",value:function(){return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"setUserInfo",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this.baseUrl,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t,about:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"addCard",value:function(e){var t=e.name,a=e.link;return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers,method:"POST",body:JSON.stringify({name:t,link:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"removeCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e),{headers:this.headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"changeLikeCardStatus",value:function(e,t){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{headers:this.headers,method:t}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getAppInfo",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-1",headers:{authorization:"02dcf3f3-4313-4731-b00a-f80d0e88b6bf","Content-Type":"application/json"}});var E=function(e){var t=e.card,a=e.onDeleteClick,n=e.onCardClick,c=e.userId,o=t.name,i=t.link,s=t.likes,u=t._id,p=t.owner._id===u,m=r.a.useState(s.some((function(e){return e._id===c}))),d=Object(l.a)(m,2),_=d[0],E=d[1],f=r.a.useState(s.length),b=Object(l.a)(f,2),v=b[0],k=b[1];return r.a.createElement("li",{className:"card"},r.a.createElement("img",{className:"card__image",alt:"Pic: ".concat(o),src:i,onClick:function(){n(t)}}),r.a.createElement("div",{className:"card__text-container"},r.a.createElement("p",{className:"card__text"},o),r.a.createElement("div",{className:"card__likes-container"},r.a.createElement("button",{className:_?"button button_like button_like-black":"button button_like",onClick:function(){E(!_),h.changeLikeCardStatus(u,_?"DELETE":"PUT").then((function(e){return k(e.likes.length)})).catch((function(e){return"Error: ".concat(e)}))}}),r.a.createElement("p",{className:"card__likes-text"},v))),p&&r.a.createElement("button",{className:"button button_delete",onClick:a}))};var f=function(e){var t=e.onEditProfile,a=e.onEditAvatar,n=e.onAddPlace,c=e.onDeleteClick,o=e.onCardClick,i=r.a.useState(""),s=Object(l.a)(i,2),u=s[0],p=s[1],d=r.a.useState(""),_=Object(l.a)(d,2),f=_[0],b=_[1],v=r.a.useState(""),k=Object(l.a)(v,2),N=k[0],g=k[1],C=r.a.useState([]),j=Object(l.a)(C,2),O=j[0],y=j[1],S=r.a.useState(""),P=Object(l.a)(S,2),x=P[0],U=P[1];return r.a.useEffect((function(){h.getAppInfo().then((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];U(n._id),p(n.name),b(n.about),g(n.avatar),y(a)}))}),[]),r.a.createElement("main",null,r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__avatar-container"},r.a.createElement("img",{alt:"Avatar Pic",className:"profile__avatar",src:N}),r.a.createElement("div",{className:"profile__avatar-edit",onClick:a},r.a.createElement("img",{src:m.a,alt:""}))),r.a.createElement("div",{className:"profile__text-container"},r.a.createElement("h1",{className:"profile__name"},u),r.a.createElement("button",{className:"button button_edit",onClick:t}),r.a.createElement("p",{className:"profile__description"},f)),r.a.createElement("button",{className:"button button_add",onClick:n})),r.a.createElement("section",{className:"elements"},r.a.createElement("ul",{className:"cards"},O.map((function(e){return r.a.createElement(E,{card:e,userId:x,onDeleteClick:c,onCardClick:o,key:e._id})})))))};var b=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__text"},"\xa9 2020 Around The U.S."))};var v=function(e){var t=e.name,a=e.title,n=e.buttonText,c=e.children,o=e.isOpen,l=e.onClose;return r.a.createElement("div",{className:o?"popup popup_type_".concat(t," popup_is-opened"):"popup popup_type_".concat(t)},r.a.createElement("div",{className:"popup__container popup__container_form"},r.a.createElement("form",{className:"popup__form",name:t,noValidate:!0},r.a.createElement("h2",{className:"popup__title"},a),c,r.a.createElement("button",{type:"submit",className:"button button_save popup__input"},n)),r.a.createElement("button",{className:"button button_close",onClick:l})))};var k=function(e){var t=e.card,a=e.onClose,n=e.isOpen,c=t.name,o=t.link;return r.a.createElement("div",{className:n?"popup popup_image popup_is-opened":"popup popup_image"},r.a.createElement("div",{className:"popup__container"},r.a.createElement("img",{className:"popup__image",alt:c,src:o}),r.a.createElement("h2",{className:"popup__image-title"},c),r.a.createElement("button",{className:"button button_close",onClick:a})))};var N=function(){var e=r.a.useState(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!1),o=Object(l.a)(c,2),i=o[0],s=o[1],p=r.a.useState(!1),m=Object(l.a)(p,2),d=m[0],_=m[1],h=r.a.useState(!1),E=Object(l.a)(h,2),N=E[0],g=E[1],C=r.a.useState(!1),j=Object(l.a)(C,2),O=j[0],y=j[1],S=r.a.useState(""),P=Object(l.a)(S,2),x=P[0],U=P[1],A=function(){_(!1),n(!1),s(!1),g(!1),y(!1)};return r.a.createElement("div",null,r.a.createElement(u,null),r.a.createElement(f,{onEditProfile:function(){n(!a)},onEditAvatar:function(){_(!d)},onAddPlace:function(){s(!i)},onDeleteClick:function(){g(!N)},onCardClick:function(e){y(!O),U(e)}}),r.a.createElement(b,null),r.a.createElement(v,{name:"edit-profile",title:"Edit Profile",buttonText:"Save",isOpen:a,onClose:A,children:r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"popup__field"},r.a.createElement("input",{type:"text",className:"popup__input popup__input_name",placeholder:"Edit Name",minLength:"2",maxLength:"40",pattern:"[A-Za-z -]+",required:!0,id:"name-input"}),r.a.createElement("span",{id:"name-input-error",className:"popup__input-error"})),r.a.createElement("label",{className:"popup__field"},r.a.createElement("input",{type:"text",className:"popup__input popup__input_desc",placeholder:"Edit Job",minLength:"2",maxLength:"200",required:!0,id:"desc-input"}),r.a.createElement("span",{className:"popup__input-error",id:"desc-input-error"})))}),r.a.createElement(v,{name:"edit-avatar",title:"Change Profile Picture",buttonText:"Save",isOpen:d,onClose:A,children:r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"popup__field"},r.a.createElement("input",{type:"url",className:"popup__input popup__input_avatar",placeholder:"Avatar Link",required:!0,id:"avatar-input"}),r.a.createElement("span",{id:"avatar-input-error",className:"popup__input-error"})))}),r.a.createElement(v,{name:"new-place",title:"New Place",buttonText:"Save",isOpen:i,onClose:A,children:r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"popup__field"},r.a.createElement("input",{type:"text",className:"popup__input popup__input_name",placeholder:"Title",minLength:"1",maxLength:"30",required:!0,id:"title-input"}),r.a.createElement("span",{className:"popup__input-error",id:"title-input-error"})),r.a.createElement("label",{className:"popup__field"},r.a.createElement("input",{type:"url",className:"popup__input popup__input_link",placeholder:"Image Link",required:!0,id:"link-input"}),r.a.createElement("span",{className:"popup__input-error",id:"link-input-error"})))}),r.a.createElement(v,{name:"delete-card",title:"Are You Shure?",buttonText:"Yes",isOpen:N,onClose:A,children:void 0}),r.a.createElement(k,{card:x,isOpen:O,onClose:A}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.bd91e11c.chunk.js.map