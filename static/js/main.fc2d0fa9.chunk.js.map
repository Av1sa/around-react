{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithImage.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js","images/logo.svg","images/edit_large_icon.svg"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardDelete","onCardClick","onCardLike","currentUser","useContext","name","link","likes","owner","isOwn","_id","isLiked","some","item","onClick","length","Main","cards","onEditProfile","onEditAvatar","onAddPlace","about","avatar","editIconLarge","map","key","Footer","PopupWithImage","onClose","isOpen","api","baseUrl","headers","this","res","ok","json","Promise","reject","status","fetch","then","_getResponseData","method","body","JSON","stringify","cardId","all","getInitialCards","getUserInfo","authorization","PopupWithForm","title","buttonText","children","onSubmit","noValidate","type","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","minLength","maxLength","pattern","required","id","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","ref","current","AddPlacePopup","nameRef","linkRef","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","getAppInfo","cardListData","userInfoData","catch","error","console","log","closeAllPopups","Provider","removeCard","newCards","filter","c","changeLikeCardStatus","newCard","setUserInfo","setUserAvatar","addCard","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.fc2d0fa9.chunk.js","sourcesContent":["import React from \"react\";\nimport logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Logo\" className=\"header__logo\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardDelete, onCardClick, onCardLike }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const { name, link, likes, owner } = card;\n  const isOwn = currentUser._id === owner._id;\n  const isLiked = likes.some((item) => item._id === currentUser._id);\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <li className=\"card\">\n      <img\n        className=\"card__image\"\n        alt={`Pic: ${name}`}\n        src={link}\n        onClick={handleClick}\n      />\n      <div className=\"card__text-container\">\n        <p className=\"card__text\">{name}</p>\n        <div className=\"card__likes-container\">\n          <button\n            className={`button button_like ${isLiked && \"button_like-black\"}`}\n            onClick={handleLikeClick}\n          />\n          <p className=\"card__likes-text\">{likes.length}</p>\n        </div>\n      </div>\n      {isOwn && (\n        <button className=\"button button_delete\" onClick={handleDeleteClick} />\n      )}\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport editIconLarge from \"../images/edit_large_icon.svg\";\nimport Card from \"../components/Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  cards,\n  onCardLike,\n  onCardDelete,\n  onCardClick,\n  onEditProfile,\n  onEditAvatar,\n  onAddPlace,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const { name, about, avatar } = currentUser;\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img alt=\"Avatar Pic\" className=\"profile__avatar\" src={avatar} />\n          <div className=\"profile__avatar-edit\" onClick={onEditAvatar}>\n            <img src={editIconLarge} alt=\"\" />\n          </div>\n        </div>\n        <div className=\"profile__text-container\">\n          <h1 className=\"profile__name\">{name}</h1>\n          <button\n            className=\"button button_edit\"\n            onClick={onEditProfile}\n          ></button>\n          <p className=\"profile__description\">{about}</p>\n        </div>\n        <button className=\"button button_add\" onClick={onAddPlace}></button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"cards\">\n          {cards.map((card) => (\n            <Card\n              card={card}\n              onCardDelete={onCardDelete}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              key={card._id}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">© 2020 Around The U.S.</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithImage({ card, onClose, isOpen }) {\n  const { name, link } = card;\n  return (\n    <div className={`popup popup_image ${isOpen && \"popup_is-opened\"}`}>\n      <div className=\"popup__container\">\n        <img className=\"popup__image\" alt={name} src={link} />\n        <h2 className=\"popup__image-title\">{name}</h2>\n        <button className=\"button button_close\" onClick={onClose} />\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithImage;\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  _getResponseData(res) {\n    return res.ok ? res.json() : Promise.reject(`Error: ${res.status}`);\n  }\n\n  //GET Get initial cards\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //GET Get user info\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //PATCH Set user info\n  setUserInfo({ name, about }) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({ name, about }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //PATCH Set user avatar\n  setUserAvatar({ avatar }) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({ avatar }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //POST Add new place\n  addCard({ name, link }) {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n      method: \"POST\",\n      body: JSON.stringify({ name, link }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //DELETE Remove place\n  removeCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      headers: this.headers,\n      method: \"DELETE\",\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //PUT/DELETE Change Like status\n  changeLikeCardStatus(cardId, method) {\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n      headers: this.headers,\n      method: method,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //Get initial data\n  getAppInfo() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\n  }\n}\n\n//Init api\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-1\",\n  headers: {\n    authorization: \"02dcf3f3-4313-4731-b00a-f80d0e88b6bf\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  buttonText,\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n}) {\n  return (\n    <div className={`popup popup_type_${name} ${isOpen && \"popup_is-opened\"}`}>\n      <div className=\"popup__container popup__container_form\">\n        <form\n          className=\"popup__form\"\n          name={name}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          <h2 className=\"popup__title\">{title}</h2>\n          {children}\n          <button type=\"submit\" className=\"button button_save popup__input\">\n            {buttonText}\n          </button>\n        </form>\n        <button className=\"button button_close\" onClick={onClose}></button>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateUser({ name, description });\n  };\n\n  const editProfileChildren = () => {\n    return (\n      <>\n        <label className=\"popup__field\">\n          <input\n            type=\"text\"\n            className=\"popup__input popup__input_name\"\n            placeholder=\"Edit Name\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            pattern=\"[A-Za-z -]+\"\n            required\n            id=\"name-input\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n          <span id=\"name-input-error\" className=\"popup__input-error\"></span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            type=\"text\"\n            className=\"popup__input popup__input_desc\"\n            placeholder=\"Edit Job\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            required\n            id=\"desc-input\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n          />\n          <span className=\"popup__input-error\" id=\"desc-input-error\"></span>\n        </label>\n      </>\n    );\n  };\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Edit Profile\"\n      buttonText=\"Save\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      children={editProfileChildren()}\n    />\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateAvatar({ avatar: avatarRef.current.value });\n  };\n  \n  const editAvatarChildren = () => {\n    return (\n      <>\n        <label className=\"popup__field\">\n          <input\n            type=\"url\"\n            className=\"popup__input popup__input_avatar\"\n            placeholder=\"Avatar Link\"\n            required\n            id=\"avatar-input\"\n            ref={avatarRef}\n          />\n          <span id=\"avatar-input-error\" className=\"popup__input-error\"></span>\n        </label>\n      </>\n    );\n  };\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Change Profile Picture\"\n      buttonText=\"Save\"\n      isOpen={isOpen}\n      onClose={onClose}\n      children={editAvatarChildren()}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const nameRef = React.useRef();\n  const linkRef = React.useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onAddPlace({ name: nameRef.current.value, link: linkRef.current.value });\n  };\n\n  const addPlaceChildren = () => {\n    return (\n      <>\n        <label className=\"popup__field\">\n          <input\n            type=\"text\"\n            className=\"popup__input popup__input_name\"\n            placeholder=\"Title\"\n            minLength=\"1\"\n            maxLength=\"30\"\n            required\n            id=\"title-input\"\n            ref={nameRef}\n          />\n          <span className=\"popup__input-error\" id=\"title-input-error\"></span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            type=\"url\"\n            className=\"popup__input popup__input_link\"\n            placeholder=\"Image Link\"\n            required\n            id=\"link-input\"\n            ref={linkRef}\n          />\n          <span className=\"popup__input-error\" id=\"link-input-error\"></span>\n        </label>\n      </>\n    );\n  };\n  return (\n    <PopupWithForm\n      name=\"new-place\"\n      title=\"New Place\"\n      buttonText=\"Save\"\n      isOpen={isOpen}\n      onClose={onClose}\n      children={addPlaceChildren()}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithImage from \"./PopupWithImage\";\nimport api from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getAppInfo()\n      .then(([cardListData, userInfoData]) => {\n        setCurrentUser(userInfoData);\n        setCards(cardListData);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n  const handleUpdateUser = ({ name, description }) => {\n    api\n      .setUserInfo({ currentUser, name: name, about: description })\n      .then((res) => {\n        setCurrentUser({\n          ...currentUser,\n          name: res.name,\n          about: res.about,\n        });\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n  const handleUpdateAvatar = ({ avatar }) => {\n    api\n      .setUserAvatar({ avatar })\n      .then((res) => {\n        setCurrentUser({\n          ...currentUser,\n          avatar: res.avatar,\n        });\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const handleAddPlaceSubmit = ({ name, link }) => {\n    api\n      .addCard({ name, link })\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((c) => c._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked ? \"DELETE\" : \"PUT\")\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      });\n  };\n  const handleCardDelete = (card) => {\n    api.removeCard(card._id).then((res) => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n    });\n  };\n  const handleCardClick = (card) => {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({});\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main\n        cards={cards}\n        onCardClick={handleCardClick}\n        onCardDelete={handleCardDelete}\n        onCardLike={handleCardLike}\n        onEditProfile={handleEditProfileClick}\n        onEditAvatar={handleEditAvatarClick}\n        onAddPlace={handleAddPlaceClick}\n      />\n      <Footer />\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n      />\n      <PopupWithImage\n        card={selectedCard}\n        isOpen={isImagePopupOpen}\n        onClose={closeAllPopups}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.8f7611ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit_large_icon.d476a8b8.svg\";"],"sourceRoot":""}